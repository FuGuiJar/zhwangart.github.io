!function(s){var o=s(".search-form-wrap"),e=!1;s(".nav-item-search").on("click",function(){e||(e=!0,o.addClass("on"),function(t){setTimeout(function(){e=!1,t&&t()},200)}(function(){s(".local-search-input").focus()}))}),s(document).mouseup(function(t){var e=s(".local-search");e.is(t.target)||0!==e.has(t.target).length||o.removeClass("on")});var t,a,n={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()}};s(".local-search").size()&&!n.any()&&s.getScript("/js/search.js",function(){searchFunc("/search.xml","local-search-input","local-search-result")}),s("body").on("click",function(){s(".article-share-box.on").removeClass("on")}).on("click",".article-share-link",function(t){t.stopPropagation();var e=s(this),o=e.attr("data-url"),a=encodeURIComponent(o),n="article-share-box-"+e.attr("data-id"),r=e.offset();if(s("#"+n).length){if((c=s("#"+n)).hasClass("on"))return void c.removeClass("on")}else{var i=['<div id="'+n+'" class="article-share-box">','<input class="article-share-input" value="'+o+'">','<div class="article-share-links">','<a href="https://twitter.com/intent/tweet?url='+a+'" class="article-share-twitter" target="_blank" title="Twitter"></a>','<a href="https://www.facebook.com/sharer.php?u='+a+'" class="article-share-facebook" target="_blank" title="Facebook"></a>','<a href="http://pinterest.com/pin/create/button/?url='+a+'" class="article-share-pinterest" target="_blank" title="Pinterest"></a>','<a href="https://plus.google.com/share?url='+a+'" class="article-share-google" target="_blank" title="Google+"></a>',"</div>","</div>"].join(""),c=s(i);s("body").append(c)}s(".article-share-box.on").hide(),c.css({top:r.top+25,left:r.left}).addClass("on")}).on("click",".article-share-box",function(t){t.stopPropagation()}).on("click",".article-share-box-input",function(){s(this).select()}).on("click",".article-share-box-link",function(t){t.preventDefault(),t.stopPropagation(),window.open(this.href,"article-share-box-window-"+Date.now(),"width=500,height=450")}),s.fancybox&&s("[data-fancybox]").fancybox({protect:!0}),s("img.lazy").lazyload({effect:"fadeIn"}),s("#gallery").justifiedGallery({rowHeight:200,margins:5}),s(document).ready(function(){var e=s("#toc"),t=s(".article-inner"),o=t.position().top+t.outerHeight()-e.height();s(window).scroll(function(){var t=s(window).scrollTop();e.css("top",t<55?90-t:t<o?35:o-t)})}),s("#toc").scrollspy(),s(document).ready(function(e){e(".anchor").click(function(t){t.preventDefault(),e("html,body").animate({scrollTop:e(this.hash).offset().top},"smooth")})}),t=jQuery,(a=t("#totop")).hide(),t(window).scroll(function(){1e3<t(document).scrollTop()?t(a).stop().fadeTo(300,1):t(a).stop().fadeTo(300,0)}),t(a).click(function(){return t("html, body").animate({scrollTop:0},1600),!1});var r=s(".content"),i=s(".sidebar"),c=!1;s(".navbar-toggle").on("click",function(){c||(c=!0,r.toggleClass("on"),i.toggleClass("on"),setTimeout(function(){c=!1},200))}),s(r).on("click",function(){!c&&r.hasClass("on")&&(r.removeClass("on"),i.removeClass("on"))})}(jQuery);